[gd_scene load_steps=9 format=2]

[ext_resource path="res://Player.gd" type="Script" id=1]
[ext_resource path="res://Boxes/Fire.tscn" type="PackedScene" id=2]
[ext_resource path="res://white.png" type="Texture" id=3]
[ext_resource path="res://Shader.gdns" type="Script" id=4]

[sub_resource type="CapsuleShape" id=1]

radius = 1.2
height = 9.0

[sub_resource type="BoxShape" id=2]

extents = Vector3( 0.8, 0.2, 0.8 )

[sub_resource type="Shader" id=3]

code = "shader_type canvas_item;

uniform float size_x=0.008;
uniform float size_y=0.008;

void fragment() {
	vec2 uv = SCREEN_UV;
	uv-=mod(uv,vec2(size_x,size_y));
	
	COLOR.rgb= textureLod(SCREEN_TEXTURE,uv,0.0).rgb;
}
"

[sub_resource type="ShaderMaterial" id=4]

render_priority = 0
shader = SubResource( 3 )
shader_param/size_x = null
shader_param/size_y = null

[node name="Player" type="KinematicBody"]

input_ray_pickable = true
input_capture_on_drag = false
collision_layer = 1
collision_mask = 1
axis_lock_linear_x = false
axis_lock_linear_y = false
axis_lock_linear_z = false
axis_lock_angular_x = false
axis_lock_angular_y = false
axis_lock_angular_z = false
collision/safe_margin = 0.001
script = ExtResource( 1 )
_sections_unfolded = [ "Collision" ]

[node name="Body_CollisionShape" type="CollisionShape" parent="." index="0"]

transform = Transform( 0.5, -3.55271e-15, -1.50938e-11, -1.50938e-11, -0.000172653, -0.5, -3.55271e-15, 0.5, -0.000172653, 0, 3.01193, 0 )
shape = SubResource( 1 )
disabled = false
_sections_unfolded = [ "Transform" ]

[node name="Feet_CollisionShape" type="CollisionShape" parent="." index="1"]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.493176, 0 )
shape = SubResource( 2 )
disabled = false
_sections_unfolded = [ "Transform" ]

[node name="Rotation_Helper" type="Spatial" parent="." index="2"]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 11.239, 0 )
_sections_unfolded = [ "Transform" ]

[node name="Camera" type="Camera" parent="Rotation_Helper" index="0"]

transform = Transform( -1, 0, 3.25841e-07, 0, 1, 0, -3.25841e-07, 0, -1, 0, -6.38532, -0.0646362 )
keep_aspect = 1
cull_mask = 1048575
environment = null
h_offset = 0.0
v_offset = 0.0
doppler_tracking = 0
projection = 0
current = true
fov = 90.0
size = 1.0
near = 0.05
far = 180.0
_sections_unfolded = [ "Transform" ]

[node name="FireSource" type="Spatial" parent="Rotation_Helper" index="1"]

transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, -7.37711, 2.17507 )
_sections_unfolded = [ "Transform" ]

[node name="Fire" parent="Rotation_Helper/FireSource" index="0" instance=ExtResource( 2 )]

transform = Transform( 1, 0, 0, 0, 0.114436, -0.993431, 0, 0.993431, 0.114436, 0, 0, 1.90735e-06 )

[node name="HUD" type="Control" parent="." index="3"]

visible = false
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 1023.0
margin_bottom = 599.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 0
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1

[node name="Shader" type="TextureRect" parent="HUD" index="0"]

material = SubResource( 4 )
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 3.0
margin_top = 2.0
margin_right = 1021.0
margin_bottom = 603.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 1
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 3 )
expand = true
stretch_mode = 0
script = ExtResource( 4 )
_sections_unfolded = [ "Margin", "Material", "Rect" ]


